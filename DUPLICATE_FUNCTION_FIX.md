# é‡å¤å‡½æ•°å®šä¹‰é—®é¢˜ä¿®å¤

## é—®é¢˜æè¿°

ç”¨æˆ·æŠ¥å‘Šï¼š
1. **å­—ä½“æ²¡å˜åŒ–ï¼Œè¿˜æ˜¯ä¸€æ ·çš„**
2. **å¤§å†™å­—æ¯ä¸­æœ‰å‡ ä¸ªå­—æ¯å®Œå…¨æ— æ³•æ˜¾ç¤º**ï¼šB, D, E, I, L, N, R, T, U

## é—®é¢˜åŸå› 

åœ¨ `glyph_designer.py` ä¸­ï¼ŒåŒä¸€ä¸ªå­—æ¯çš„å¤§å†™å’Œå°å†™å®šä¹‰åˆ†åˆ«åœ¨ä¸åŒä½ç½®å®šä¹‰äº†ä¸¤æ¬¡ï¼š

```python
# ç¬¬202è¡Œï¼šå¤§å†™Bçš„å®šä¹‰
def _create_b(self, pen, w, h, m, is_upper=False):
    if is_upper:
        # å¤§å†™Bçš„é€»è¾‘
        ...

# ç¬¬1309è¡Œï¼šå°å†™bçš„å®šä¹‰ï¼ˆè¦†ç›–äº†ä¸Šé¢çš„å®šä¹‰ï¼ï¼‰
def _create_b(self, pen, w, h, m, is_upper=False):
    if not is_upper:
        # å°å†™bçš„é€»è¾‘
        ...
```

**Pythonä¸­ï¼Œåå®šä¹‰çš„å‡½æ•°ä¼šå®Œå…¨è¦†ç›–å‰é¢çš„å®šä¹‰ï¼**

ç»“æœï¼š
- å½“è°ƒç”¨å¤§å†™Bæ—¶ï¼ˆ`is_upper=True`ï¼‰ï¼Œæ‰§è¡Œç¬¬1309è¡Œçš„å‡½æ•°
- ä½†ç¬¬1309è¡Œçš„å‡½æ•°åªæœ‰ `if not is_upper` åˆ†æ”¯
- æ‰€ä»¥å¤§å†™Bä»€ä¹ˆéƒ½ä¸ç”»ï¼Œå¯¼è‡´**æ— æ³•æ˜¾ç¤º**

## å—å½±å“çš„å­—æ¯

ä»¥ä¸‹9ä¸ªå­—æ¯éƒ½æœ‰é‡å¤å®šä¹‰é—®é¢˜ï¼š
- B (202è¡Œ vs 1309è¡Œ)
- D (389è¡Œ vs 1367è¡Œ)  
- E (446è¡Œ vs 1423è¡Œ)
- I (600è¡Œ vs 1493è¡Œ)
- L (738è¡Œ vs 1519è¡Œ)
- N (804è¡Œ vs 1537è¡Œ)
- R (905è¡Œ vs 1579è¡Œ)
- T (999è¡Œ vs 1603è¡Œ)
- U (1038è¡Œ vs 1629è¡Œ)

## è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆï¼šæ‹†åˆ†ä¸ºç‹¬ç«‹çš„å°å†™å‡½æ•°

å°†å°å†™ç‰ˆæœ¬é‡å‘½åä¸º `_create_x_lowercase()`ï¼Œå¹¶åœ¨ä¸»å‡½æ•°ä¸­è°ƒç”¨ï¼š

```python
def _create_b(self, pen, w, h, m, is_upper=False):
    """å­—æ¯Bçš„è®¾è®¡ï¼ˆå¤§å†™å’Œå°å†™ï¼‰"""
    if not is_upper:
        # è°ƒç”¨å°å†™ç‰ˆæœ¬
        self._create_b_lowercase(pen, w, h, m)
        return
    
    # å¤§å†™Bçš„é€»è¾‘
    stroke = self.stroke_width
    ...

def _create_b_lowercase(self, pen, w, h, m):
    """å°å†™bçš„è®¾è®¡ï¼ˆç‹¬ç«‹å‡½æ•°ï¼Œé¿å…è¦†ç›–å¤§å†™Bï¼‰"""
    stroke = self.stroke_width
    ...
```

### ä¿®æ”¹åˆ—è¡¨

| å­—æ¯ | åŸå‡½æ•° | æ–°å¢å‡½æ•° |
|------|--------|---------|
| B | `_create_b()` | `_create_b_lowercase()` |
| D | `_create_d()` | `_create_d_lowercase()` |
| E | `_create_e()` | `_create_e_lowercase()` |
| I | `_create_i()` | `_create_i_lowercase()` |
| L | `_create_l()` | `_create_l_lowercase()` |
| N | `_create_n()` | `_create_n_lowercase()` |
| R | `_create_r()` | `_create_r_lowercase()` |
| T | `_create_t()` | `_create_t_lowercase()` |
| U | `_create_u()` | `_create_u_lowercase()` |

## ä¿®å¤éªŒè¯

### æµ‹è¯•ç»“æœ

```bash
$ python3 font-generator/generator.py --spec test_spec.json --output /tmp --font-id test_fixed
âœ… æˆåŠŸç”Ÿæˆ 90 ä¸ªå­—å½¢
âœ… å­—å½¢å·²è½¬æ¢ä¸ºäºŒæ¬¡è´å¡å°”æ›²çº¿
âœ… æˆåŠŸåˆ›å»º TrueType å­—ä½“æ–‡ä»¶
```

### å­—å½¢æ˜¾ç¤ºéªŒè¯

- âœ… å¤§å†™å­—æ¯ B, D, E, I, L, N, R, T, U ç°åœ¨å¯ä»¥æ­£å¸¸æ˜¾ç¤º
- âœ… å°å†™å­—æ¯ b, d, e, i, l, n, r, t, u ä¹Ÿå¯ä»¥æ­£å¸¸æ˜¾ç¤º
- âœ… æ‰€æœ‰90ä¸ªå­—å½¢éƒ½èƒ½æ­£ç¡®ç”Ÿæˆ

## ä¸ºä»€ä¹ˆä¹‹å‰æ²¡å‘ç°

1. **Pythonè¯­æ³•åˆæ³•**ï¼šä¸¤ä¸ªåŒåå‡½æ•°å®šä¹‰éƒ½æ˜¯åˆæ³•çš„ï¼Œä¸ä¼šæŠ¥é”™
2. **ä»£ç åˆ†æ•£**ï¼šå¤§å†™å’Œå°å†™å®šä¹‰ç›¸éš”1000å¤šè¡Œï¼Œä¸å®¹æ˜“å‘ç°
3. **æ¡ä»¶åˆ†æ”¯è¿·æƒ‘**ï¼šæ¯ä¸ªå‡½æ•°éƒ½æœ‰ `if is_upper` æ¡ä»¶ï¼Œçœ‹èµ·æ¥åƒæ˜¯å¤„ç†äº†ä¸¤ç§æƒ…å†µ
4. **æ— é™æ€æ£€æŸ¥**ï¼šPythonæ²¡æœ‰å†…ç½®çš„é‡å¤å®šä¹‰æ£€æŸ¥

## ç»éªŒæ•™è®­

### âŒ ä¸å¥½çš„æ¨¡å¼ï¼š
```python
# åœ¨ä¸åŒä½ç½®å®šä¹‰åŒåå‡½æ•°ï¼Œä¾èµ–æ¡ä»¶åˆ†æ”¯
def _create_x():
    if is_upper:
        ...

def _create_x():  # è¦†ç›–äº†ä¸Šé¢çš„å®šä¹‰ï¼
    if not is_upper:
        ...
```

### âœ… å¥½çš„æ¨¡å¼ï¼š
```python
# åœ¨ä¸€ä¸ªå‡½æ•°ä¸­å¤„ç†æ‰€æœ‰æƒ…å†µ
def _create_x(is_upper=False):
    if not is_upper:
        self._create_x_lowercase()
        return
    # å¤§å†™é€»è¾‘
    ...

def _create_x_lowercase():
    # å°å†™é€»è¾‘
    ...
```

## å…¶ä»–å¯èƒ½çš„é‡å¤å®šä¹‰

æ£€æŸ¥äº†å…¶ä»–å­—æ¯ï¼Œæœªå‘ç°ç±»ä¼¼é—®é¢˜ï¼š
- A, C, F, G, H, J, K, M, O, P, Q, S, V, W, X, Y, Z - âœ… æ— é‡å¤
- å°å†™å­—æ¯ a, c, f, g, h, j, k, m, o, p, q, s, v, w, x, y, z - âœ… æ— é‡å¤

## å…³äºå‚æ•°åº”ç”¨å·®å¼‚çš„è¯´æ˜

ç”¨æˆ·è¿˜åé¦ˆ"æ²¡å˜åŒ–è¿˜æ˜¯ä¸€æ ·çš„"ï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºï¼š

1. **terminalså’Œcornerså‚æ•°çš„è§†è§‰æ•ˆæœæœ‰é™**ï¼š
   - åªåœ¨6ä¸ªå…³é”®å­—æ¯ä¸­åº”ç”¨ï¼šA, E, F, I, L, T
   - å…¶ä»–20ä¸ªå¤§å†™å­—æ¯è¿˜æœªåº”ç”¨è¿™äº›å‚æ•°

2. **éœ€è¦æ›´å¤šå­—æ¯åº”ç”¨å‚æ•°**ï¼š
   - å»ºè®®æ‰©å±•åˆ° M, N, V, W, X, Y, Zï¼ˆcornersï¼‰
   - å»ºè®®æ‰©å±•åˆ° C, G, J, S, Uï¼ˆterminalsï¼‰

3. **æœ€æ˜æ˜¾çš„å·®å¼‚å‚æ•°**ï¼š
   - **strokeWidth** (70 vs 105)ï¼šç»†è…» vs ç²—å£® âœ… æœ€æ˜æ˜¾
   - **contrast** (none vs high)ï¼šå‡ ä½• vs ä¹¦æ³• âœ… è¾ƒæ˜æ˜¾
   - **terminals** (straight vs curved)ï¼šâš ï¸ åªåœ¨å°‘æ•°å­—æ¯å¯è§
   - **corners** (sharp vs soft)ï¼šâš ï¸ åªåœ¨å­—æ¯Aé¡¶ç‚¹å¯è§

## å»ºè®®

### çŸ­æœŸï¼ˆç«‹å³æµ‹è¯•ï¼‰ï¼š
å°è¯•ç”Ÿæˆä¸¤ä¸ªæç«¯å¯¹æ¯”çš„å­—ä½“ï¼š

**å­—ä½“1 - ç»†è…»å‡ ä½•**:
```
strokeWidth: 60
contrast: none
terminals: straight
corners: sharp
```

**å­—ä½“2 - ç²—çŠ·ä¹¦æ³•**:
```
strokeWidth: 120
contrast: high
terminals: curved
corners: soft
```

è¿™ä¸¤ä¸ªå­—ä½“çš„ **strokeWidth** å’Œ **contrast** å·®å¼‚åº”è¯¥éå¸¸æ˜æ˜¾ã€‚

### ä¸­æœŸï¼ˆåç»­ä¼˜åŒ–ï¼‰ï¼š
æ‰©å±•å‚æ•°åº”ç”¨åˆ°æ›´å¤šå­—æ¯ï¼Œå¢å¼ºè§†è§‰å·®å¼‚ã€‚

---

**ä¿®å¤æ—¥æœŸ**: 2025å¹´11æœˆ1æ—¥  
**çŠ¶æ€**: âœ… å·²ä¿®å¤å¹¶æµ‹è¯•
**å½±å“**: ğŸ¯ ä¿®å¤äº†9ä¸ªå¤§å†™å­—æ¯æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜

